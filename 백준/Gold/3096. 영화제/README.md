# [Gold IV] 영화제 - 3096 

[문제 링크](https://www.acmicpc.net/problem/3096) 

### 성능 요약

메모리: 48172 KB, 시간: 408 ms

### 분류

비트마스킹, 비트 집합, 브루트포스 알고리즘, 조합론, 수학

### 문제 설명

<p>넓은 강이 있는 나라가 있다. 강의 왼쪽에는 마을이 N개, 오른쪽에도 N개가 있으며, 각 마을은 1번부터 N번까지 번호가 매겨져 있다. 왼쪽 마을 중 하나와 오른쪽 마을 중 하나를 연결하는 배는 총 M개가 있고, 양방향으로 연결한다.</p>

<p>상근이는 총 4개 마을에서 영화제를 개최하려고 한다. 왼쪽 마을에서 2개, 오른쪽 마을에서 2개를 고르며, 왼쪽 마을은 모두 오른쪽 마을과 배로 직접 연결되어 있어야 한다.</p>

<p>영화제를 개최할 마을을 고르는 방법의 수를 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 마을의 수 N (2 ≤ N ≤ 1000)과 배의 수 M (4 ≤ M ≤ N<sup>2</sup>)이 주어진다.</p>

<p>다음 M개 줄에는 배가 연결하는 두 마을의 번호가 왼쪽, 오른쪽 순서대로 주어진다.</p>

### 출력 

 <p>영화제를 개최할 마을을 고르는 방법의 수를 출력한다.</p>

